_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{PgR5:function(e,s,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return c("s7nH")}])},s7nH:function(e,s,c){"use strict";c.r(s);var i=c("nKUr"),a=c("o0o1"),t=c.n(a),n=c("HaE+"),l=c("IP2g"),r=c("q1tI"),j=c("R+Of"),d=c("vDqi"),o=c.n(d),b=c("NKCw");s.default=function(){var e=Object(b.a)(),s=e.register,c=e.handleSubmit,a=Object(r.useState)(!1),d=a[0],m=a[1],h=Object(r.useState)(null),O=h[0],x=h[1],u=Object(r.useState)(0),p=u[0],N=u[1],v=function(){var e=Object(n.a)(t.a.mark((function e(s){var c;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,o.a.post("/api/signup",s,{timeout:6e4});case 4:c=e.sent,N(c.data),200===c.data?x(!0):203!==c.data&&204!==c.data||x(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),x(!1);case 12:m(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(s){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{children:[Object(i.jsx)(j.a,{}),Object(i.jsx)("section",{className:"hero",children:Object(i.jsx)("div",{className:"hero-body",children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{className:"title is-1",children:"Tower Of Bogdan"}),Object(i.jsx)("h2",{className:"subtitle is-3",children:"Register"})]})})}),Object(i.jsx)("section",{className:"section",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsx)("div",{className:"card-content",children:Object(i.jsx)("div",{className:"tile is-ancestor",children:Object(i.jsxs)("div",{className:"tile is-parent is-vertical",children:[Object(i.jsx)("div",{className:"tile is-child is-4",children:Object(i.jsxs)("form",{onSubmit:c(v),children:[Object(i.jsxs)("div",{className:"field",children:[Object(i.jsx)("label",{htmlFor:"email",children:"Email"}),Object(i.jsxs)("div",{className:"control has-icons-left".concat(201===p?" has-icons-right":""),children:[Object(i.jsx)("span",{className:"icon is-small is-left",children:Object(i.jsx)(l.a,{icon:"envelope"})}),201===p?Object(i.jsx)("span",{className:"icon is-small is-right",children:Object(i.jsx)(l.a,{icon:"times"})}):"",Object(i.jsx)("input",{className:"input".concat(201===p?" is-danger":""),type:"email",id:"email",name:"email",ref:s({required:!0}),disabled:null!==O})]})]}),201===p?Object(i.jsx)("div",{className:"notification is-danger",children:Object(i.jsxs)("p",{children:["Email already ",Object(i.jsx)("b",{children:"taken"}),"."]})}):"",Object(i.jsx)("div",{className:"control",children:Object(i.jsx)("input",{type:"text",name:"name",style:{display:"none"},ref:s()})}),Object(i.jsxs)("div",{className:"field",children:[Object(i.jsx)("label",{htmlFor:"username",children:"Username"}),Object(i.jsxs)("div",{className:"control has-icons-left".concat(202===p?" has-icons-right":""),children:[Object(i.jsx)("span",{className:"icon is-small is-left",children:Object(i.jsx)(l.a,{icon:"user"})}),202===p?Object(i.jsx)("span",{className:"icon is-small is-right",children:Object(i.jsx)(l.a,{icon:"times"})}):"",Object(i.jsx)("input",{className:"input".concat(202===p?" is-danger":""),type:"text",id:"username",name:"username",ref:s({required:!0}),disabled:null!==O})]})]}),202===p?Object(i.jsx)("div",{className:"notification is-danger",children:Object(i.jsxs)("p",{children:["Username already ",Object(i.jsx)("b",{children:"taken"}),"."]})}):"",Object(i.jsxs)("div",{className:"field",children:[Object(i.jsx)("label",{htmlFor:"password",children:"Password"}),Object(i.jsxs)("div",{className:"control has-icons-left",children:[Object(i.jsx)("span",{className:"icon is-small is-left",children:Object(i.jsx)(l.a,{icon:"unlock-alt"})}),Object(i.jsx)("input",{className:"input",type:"password",id:"password",name:"password",ref:s({required:!0}),disabled:null!==O})]})]}),Object(i.jsx)("div",{className:"control",children:Object(i.jsx)("button",{className:"button  ".concat(d?"is-loading":null),type:"submit",disabled:null!==O,children:"Submit"})})]})}),Object(i.jsx)("div",{className:"tile is-4"}),Object(i.jsxs)("div",{className:"tile is-child is-4",children:[!0===O&&Object(i.jsx)("div",{className:"notification is-success is-light",children:Object(i.jsxs)("p",{className:"title is-5",children:["Registration successfull ",Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),"Success!"]})}),!1===O&&Object(i.jsx)("div",{className:"notification is-danger is-light",children:Object(i.jsxs)("p",{className:"title is-5",children:["There was an error. ",Object(i.jsx)("br",{}),Object(i.jsx)("br",{})," Please try again later."]})})]})]})})})})})})]})}}},[["PgR5",0,1,2,5,6]]]);